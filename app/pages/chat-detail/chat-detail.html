<ion-navbar *navbar class="chat-detail-navbar">
  <img class="chat-picture" [src]="chat.picture">
  <ion-title class="chat-title">{{chat.title}}</ion-title>

  <ion-buttons end>
    <button class="attach-button" (click)="attachFile()"><ion-icon name="attach"></ion-icon></button>
    <button class="options-button" (clickl)="showOptions()"><ion-icon name="more"></ion-icon></button>
  </ion-buttons>
</ion-navbar>

<ion-content padding class="chat-detail">
  <div class="messages-list">
    <div *ngFor="let message of chat.messages" class="message-wrapper">
      <div [class]="getMessageClass(message)">
        <div class="message-contents">{{message.contents}}</div>
        <span class="message-timestamp">{{message.timestamp | amDateFormat: 'HH:MM'}}</span>
      </div>
    </div>
  </div>
</ion-content>

<ion-toolbar class="chat-detail-message-box" position="bottom">
  <ion-input #messageInput [(ngModel)]="message" (keypress)="onInputKeypress($event, messageInput)" class="message-input" placeholder="Type a message"></ion-input>

  <ion-buttons end>
    <button *ngIf="message" class="message-input-button" (click)="sendMessage(messageInput)">
      <ion-icon name="send"></ion-icon>
    </button>
    <button *ngIf="!message" class="message-input-button" (click)="recordVoiceMessage()">
      <ion-icon name="mic"></ion-icon>
    </button>
  </ion-buttons>
</ion-toolbar>
